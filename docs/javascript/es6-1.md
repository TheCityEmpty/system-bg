---
description: '很早就开始使用es6语法了， 但是都不慎明义， 有时甚至都分不清这些语法是属于es6还是es5, 或者是其他的更新的语法， 所以打算重新系统的学习一遍es6。'
isHot: true
types: ['javascript', 'es6']
---
# 重学es6系列（1） --块级作用域绑定

## 1. es5中的var

在很久以前，大家都是使用var 来定义一个js变量。但是使用var会有一个特点， 无论你是在函数作用域中（在一个函数中）或者是在全局作用域中（一个js文件或者html文件中的script标签内）声明这个变量，都会当做在当前作用域的顶部声明的变量，这就是我们常说的提升机制。
```js
console.log(cc)
var cc = 'cc'
// 输出 undefined

console.log(bb)
let bb = 'bb'
// Uncaught ReferenceError: Cannot access 'bb' before initialization
```
上面一个var是es5的语法， 一个let是es6的语法， 发现输出的结果完全不同，一个输出了undefined一个却报错了。

那是因为在js的预编译阶段，js引擎会将上面的var语法修改成下面这样:
```js
var cc
console.log(cc)
cc = 'cc'
// 输出 undefined
```
::: tip 为此
es6引入块级作用域来强化对变量生命周期的控制。let 和 const 都不会进行所谓的变量提升。
:::

## 2. es6中的let和const

### 禁止重复声明
先看一段代码
```js
var aa = 'cc'
var aa = 'aa'
console.log(aa)
// 输出 aa

let bb = 'cc'
let bb = 'bb'
//  Identifier 'bb' has already been declared
```

会发现var允许重复声明一个同样名字的变量，那在开发中就要注意了，小心自己定义的变量撞脸了别人的变量。而使用let声明同样名字的变量会报错。

### 块级作用域

块级作用域（亦被称为词法作用域）存在于：
* 函数内部
* 块中（字符{和}之间的区域） 

es5之前没有let和const怎么办呢？
```js
(function(){
  // todo
})
```


<Vssue />